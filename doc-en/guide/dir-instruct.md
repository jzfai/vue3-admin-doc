# Introduction

This article introduces the commonly used directory structure of vue3-admin-plus.

## Directory Structure

```javascript
├── .husky                                // Git hook
├── .vscode                               // VS Code configuration directory
├── dist                                  // Build output directory
├── eslintrc                              // ESLint configuration directory
│   ├── eslint-config.js                  // ESLint configuration file
│   ├── .eslintrc-auto-import.json        // Configuration file generated by unplugin-auto-import
├── mock                                  // Project mock data directory
├── typings                               // TypeScript configuration directory
│   ├── basic.d.ts                        // Configuration of types such as router and store
│   ├── env.d.ts                          // Vite related types
│   ├── global.d.ts                       // Global types
│   ├── shims-vue.d.ts                    // Recognizing .vue files
│   ├── auto-imports.d.ts                 // Generated by unplugin-auto-import
│   └── components.d.ts                   // Generated by unplugin-vue-components
├── src                                   // Source code
│   ├── api                               // All requests
│   ├── assets                            // Themes, fonts, and other static resources
│   ├── components                        // Global reusable components
│   ├── directive                         // Global directives
│   ├── hooks                             // Hook-related
│   ├── icons                             // All SVG icons
│   ├── router                            // Router-related
│   ├── store                             // Global store management
│   ├── styles                            // Global styles
│   ├── utils                             // Global utility methods
│   ├── lang                              // i18n language
│   ├── views                             // Page components
│   ├── App.vue                           // Entry page
│   ├── main.js                           // Entry file: component loading, initialization, etc.
│   └── permission.js                     // Permission management
│   └── settings.js                       // Global static page configuration (e.g., sidebar visibility)
├── .editorconfig                         // Editor configuration
├── .env.build                            // Production environment configuration for builds (can be specified using --mode)
├── .env.build-test                       // Configuration for building the test environment (can be specified using --mode)
├── .env.serve-dev                        // Development environment configuration for serving (can be specified using --mode)
├── .env.serve-test                       // Configuration for serving the test environment (can be specified using --mode)
└── .eslintignore                         // ESLint ignore file
└── .eslintrc.js                          // ESLint configuration
└── .gitignore                            // Git ignore file
└── .prettierrc                           // Prettier configuration file
└── mock-prod-server.ts                  // Production mock configuration file
└── .npmrc                                // npm configuration file
└── index.html                           // Main entry file for builds
├── tsconfig.base.json                   // Basic TypeScript configuration file
└── tsconfig.json                        // TypeScript configuration entry file
└── package.json                         // package.json
└── vite.config.js                       // Vite configuration
```

#### 

## api: Request Interface Encapsulation

If an interface is used more than twice, it is recommended to encapsulate it in the API. However, it is not recommended to encapsulate all interfaces, as this unnecessarily increases code complexity. The more complex the code, the higher the chance of bugs and the difficulty of development, which is also detrimental to maintenance in the long run.

## assets: Resource Directory

Contains static files such as images, JSON data files, etc.

## components: Common Component Directory

Component encapsulation serves two main purposes: encapsulating views, data, and change logic, and facilitating reuse through props.

::: tip Component Encapsulation
It is recommended to encapsulate components that are used more than twice. Please do not over-encapsulate.
:::

```typescript
// vite.config.ts
Components({
  dirs: ['src/components', 'src/icons'],
  extensions: ['vue'],
  deep: true,
  dts: './typings/components.d.ts'
}),
```

>The unplugin-vue-components automatically scans all files in the components directory, so you can use them without importing.

## hooks

Vue 3 introduces the new feature of hooks, which allows for better state management (ref, reactive) and lifecycle handling compared to traditional utils.

```typescript
// vite.config.ts 
AutoImport({
  dirs: ['src/hooks/**', 'src/utils/**', 'src/store/**', 'src/api/**', 'src/directives/**']
}),
```

>The unplugin-auto-import automatically imports all hook files, so you can use them directly without importing.

## icons

The SVG image directory uses the **vite-plugin-svg-icons** plugin to encapsulate multiple SVG images.

![1638253985928](https://github.jzfai.top/file/vap-assets/1638253985928.png)

By default, it reads images from the common and nav-bar directories. You can configure this in vite.config.js.

vite.config.js

```javascript
viteSvgIcons({
  iconDirs: [path.resolve(process.cwd(), 'src/icons/common'), path.resolve(process.cwd(), 'src/icons/nav-bar')],
  symbolId: 'icon-[dir]-[name]'
}),
```

>By default, it packages images from the common and nav-bar directories. If needed, you can modify and

expand it yourself.

Official Configuration Documentation: [vite-plugin-svg-icons](https://github.com/anncwb/vite-plugin-svg-icons/blob/main/README.zh_CN.md)

#### How to Use

The icon-class represents the file name of the SVG.

```vue
<template>
  <div>
    <div>SVG Icon Usage Example</div>
    <svg-icon icon-class="dashboard" class="dashboard" />
  </div>
</template>
```

>If you need to add a new SVG, download it from the internet (e.g., from Iconfont) and place it in the appropriate directory.

## router

The menu is **automatically generated** based on your route configuration, making it very simple.

Complete route configuration parameters (using the keep-alive route configuration as an example):

```javascript
{
    /*
      path, component, redirect are from vue-router, not explained here
    */
    path: '/writing-demo',
    component: Layout,
    redirect: '/writing-demo/keep-alive',
    /*
      meta: explanation below
      alwaysShow -> default: false; true: displays the parent when there is a child; false: does not display the parent when there is a child
      hidden -> default: false; true: hides the current label in the sidebar, including its children
    */
    meta: { title: 'Writing Demo', icon: 'eye-open' },
    alwaysShow: true,
    hidden:false
    children: [
      {
        path: 'keep-alive',
        component: () => import('@/views/example/keep-alive'),
        /*
   	   name -> the name when routing; the name for caching in keep-alive, recommended to be set
         */
        name: 'KeepAlive',
        //cachePage: cachePage when page enter, default false
        //leaveRmCachePage: remove cachePage when page leave, default false
        /*
   	   meta attributes:
           title: displayed name in the sidebar
           cachePage -> default: false; true -> the page will be cached when initially loaded
           leaveRmCachePage -> default: false; true -> the cache for this page will be removed when leaving the page
           activeMenu: which sidebar item to highlight; e.g., when jumping from a list page to a details page (set as hidden), if you still want to highlight the list page, you can set activeMenu to the link of the list page
         */
        meta: { title: 'Keep-Alive', cachePage: true, leaveRmCachePage: false }
      },
      {
        path: 'router-demo-f',
        name: 'routerDemoF',
        hidden: true,
        component: () => import('@/views/example/keep-alive/RouterDemoF.vue'),
        meta: { title: 'RouterDemo-F', activeMenu: '/writing-demo/keep-alive' }
      }
    ]
  },
```

## store

Uses pinia (vuex5) technology:

- basic.ts: Stores user information, tokens, and basic page layout states.
- config.ts: Stores configuration information such as theme colors, i18n, and size.
- tags-view.ts: Configuration related to tagsView.vue.

## styles

- index.scss: Main file.
- reset-elemenet-plus-style.scss: Resets element-plus styles.
- scss-suger.scss: Provides commonly used CSS layout APIs such as flex.
- transition.scss: Animation-related styles, such as sidebar closing animation.

##### reset-elemenet-plus-style.scss: Resets element-plus styles, for example:

```vue
//reset-elemenet-plus-style.scss
.reset-dialog {
  .el-dialog__body {
    min-height: 60vh;
    max-height: 70vh;
  }
}
Usage in a dialog (reset the height of el-dialog__body):
<div class="reset-dialog">
  <el-dialog>
    <div class="detail-container-item">DBC file name</div>
 </el-dialog>
</div>
```

::: tip Reset Styles
To avoid global style pollution, add an additional class when resetting element-plus styles.
:::

##### scss-suger.scss: Mainly encapsulates flex layout methods, reducing the need for extensive CSS styling.

```text
//flex
.rowSC
row: Sets the main axis direction to row -> flex-direction: row;
S: Sets the layout of the main axis direction, S represents justify-content: flex-start;
C: Sets the layout of the cross-axis direction, C represents align-items: center;
.rowSS, rowSE, columnSS, .columnSC are similar
```

Usage example:

```vue
<div class="widthPC-100">
      <!--Parallel layout-->
      <div class="rowSS">
        <div>1</div>
        <div>2</div>
      </div>
      <!--Center layout-->
      <div class="rowCC">
        <div>3</div>
        <div>4</div>
      </div>
      <!--Center layout-->
      <div class="columnCC">
        <div>3</div>
        <div>4</div>
      </div>
</div>
```

## utils

- axios-req.ts: Axios request encapsulation.
- bus.js: Used for information passing between unrelated components in Vue 3, similar to new bus() in Vue 2.
- common-util.ts: Validation for phone numbers, emails, amounts, etc., and commonly used array manipulation APIs.
